(function(){var e={7470:function(){document.oncontextmenu=function(){event.returnValue=!1},document.oncontextmenu=function(){return!1}},7370:function(e,d,t){"use strict";var a=t(9963),s=t(6252);function i(e,d,t,a,i,n){const l=(0,s.up)("Load"),o=(0,s.up)("Menu"),c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.load?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(o),(0,s.Wm)(c,null,{default:(0,s.w5)((({Component:e})=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(),(0,s.j4)((0,s.LL)(e)))],1024))])),_:1})],64)}const n=e=>((0,s.dD)("data-v-0400028e"),e=e(),(0,s.Cn)(),e),l={class:"menu"},o=n((()=>(0,s._)("i",{class:"iconfont icon-jianpan"},null,-1))),c=n((()=>(0,s._)("i",{class:"iconfont icon-shezhi"},null,-1))),v=n((()=>(0,s._)("i",{class:"iconfont icon-guanyu_o"},null,-1)));function u(e,d,t,a,i,n){const u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(u,{class:"item",to:"/keyboard"},{default:(0,s.w5)((()=>[o])),_:1}),(0,s.Wm)(u,{class:"item",to:"/setup"},{default:(0,s.w5)((()=>[c])),_:1}),(0,s.Wm)(u,{class:"item",to:"/about"},{default:(0,s.w5)((()=>[v])),_:1})])}var r={},f=t(3744);const p=(0,f.Z)(r,[["render",u],["__scopeId","data-v-0400028e"]]);var y=p;const _=e=>((0,s.dD)("data-v-e94a9e78"),e=e(),(0,s.Cn)(),e),m={class:"main-container"},k=_((()=>(0,s._)("div",{id:"loader",class:"loading-container"},[(0,s._)("div",{class:"loader"},"Loading...")],-1))),h=[k];function g(e,d,t,a,i,n){return(0,s.wg)(),(0,s.iD)("div",m,h)}var w={};const b=(0,f.Z)(w,[["render",g],["__scopeId","data-v-e94a9e78"]]);var x=b,S=t(2262),C=t(3907),L=t(3279),E={name:"App",components:{Menu:y,Load:x},data(){const e=(0,C.oR)(),d=(0,S.iH)(!0);window.addEventListener("load",(()=>{d.value=!1,console.log("load")}));const t=()=>{pywebview.api.get_all_switch_state().then((d=>{console.log("初始会接口"),console.log(d),e.state.switch_state=d,console.log("store.state.switch_state:",e.state.switch_state);const t=()=>{e.dispatch("getSoundList")};t(),console.log("当前选择音效包是:",e.state.switch_state.choose_sound),e.dispatch("getSoundInfo")}))};return(0,s.bv)((()=>{(0,L.uK)(),window.addEventListener("pywebviewready",(()=>{t(),pywebview.api.inject_theme()}))})),{load:d}}};const A=(0,f.Z)(E,[["render",i]]);var z=A,T=t(2201);t(1885);const D=[{path:"/",redirect:"/keyboard"},{path:"/keyboard",name:"keyboard",component:()=>Promise.resolve().then(t.bind(t,1885))},{path:"/mouse",name:"mouse",component:()=>t.e(449).then(t.bind(t,1424))},{path:"/sounds",name:"sounds",component:()=>t.e(103).then(t.bind(t,5184))},{path:"/setup",name:"setup",component:()=>t.e(350).then(t.bind(t,9956))},{path:"/about",name:"about",component:()=>t.e(443).then(t.bind(t,4694))},{path:"/vuex",name:"vuex",component:()=>t.e(93).then(t.bind(t,4093))}],j=(0,T.p7)({history:(0,T.r5)(),routes:D});var W=j,F=t(4239),I=t(1319);t(4415),t(7470);(0,a.ri)(z).use(I.Z).use(F.Z).use(W).mount("#app")},4239:function(e,d,t){"use strict";var a=t(3907),s=t(3279);d["Z"]=(0,a.MT)({state:{switch_state:{keyboard_flag:!0,mouse_flag:!1,break_flag:!1,single_flag:!1,now_play:!1,choose_sound:"",auto_run:!1,font:"",theme:""},sound_list:[],sound_info:{soundsList:[]},choose_key:"",key_sound:"",onekey_flag:!1,count:0},getters:{},mutations:{setMenu(e,d){console.log("setMenu",d),e.count+=1}},actions:{getSoundList({commit:e,state:d}){d.soundlist=[],(0,s._m)().then((e=>{d.sound_list=e,console.log("<<actions>>#getSoundList#",d.sound_list)}))},getSoundInfo({commit:e,state:d}){(0,s.VA)().then((e=>{e?(d.sound_info=e,console.log("<<actions>>#getSoundInfo#",d.sound_info),(0,s.cu)()):d.sound_info={soundsList:[]}}))},updateSoundInfo({commit:e,state:d}){(0,s.ti)().then((e=>{console.log("<<actions>>#updateSoundInfo#",d.sound_info),(0,s.cu)()}))}},modules:{}})},3279:function(e,d,t){"use strict";t.d(d,{Dt:function(){return v},M_:function(){return c},Mo:function(){return n},VA:function(){return o},_m:function(){return i},cu:function(){return r},ti:function(){return l},tn:function(){return u},uK:function(){return s}});var a=t(4239).Z;const s=()=>{console.log("test_store"),console.log("store",a.state)};window.addEventListener("pywebviewready",(()=>{}));const i=()=>pywebview.api.getSoundList(),n=()=>pywebview.api.update_all_switch_state(a.state.switch_state),l=()=>pywebview.api.updateSoundInfo(a.state.sound_info),o=()=>pywebview.api.getSoundInfo(a.state.switch_state.choose_sound),c=()=>pywebview.api.addSoundFile(a.state.sound_info.name),v=e=>pywebview.api.newSoundInfo(e),u=()=>{let e=document.querySelectorAll(".key");e.forEach((e=>{e.classList.remove("keybind"),e.removeAttribute("alt")}))},r=()=>{let e=a.state.sound_info.mode,d=document.querySelectorAll(".key");if(d.forEach((e=>{e.classList.remove("keybind"),e.removeAttribute("alt")})),"指定"==e){let e=document.querySelectorAll(".key");a.state.sound_info.assigned_sounds.forEach((d=>{console.log(d),e.forEach((e=>{e.innerText==d.key&&(e.classList.add("keybind"),e.setAttribute("alt",d.sound))}))}))}else if("重复"==e){let e=document.querySelectorAll(".key");e.forEach((e=>{e.classList.add("keybind"),e.setAttribute("alt",a.state.sound_info.repeat_sound)}))}else if("随机"==e){let e=document.querySelectorAll(".key");e.forEach((e=>{e.classList.remove("keybind"),e.removeAttribute("alt")}))}else if("单键随机"==e){let e=document.querySelectorAll(".key");a.state.sound_info.single_key.forEach((d=>{e.forEach((e=>{e.innerText==d&&(e.classList.add("keybind"),e.setAttribute("alt","随机"))}))}))}}},1885:function(e,d,t){"use strict";t.r(d),t.d(d,{default:function(){return G}});var a=t(6252);const s={class:"keyboard_view"};function i(e,d,t,i,n,l){const o=(0,a.up)("ToolsMenu"),c=(0,a.up)("SoundsList"),v=(0,a.up)("KeyBoard");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(o),(0,a.Wm)(c),(0,a.Wm)(v)])}const n={class:"keyboard"},l={class:"keyboard_box",ref:"keybox"},o=(0,a.uE)('<div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Esc</div></div><div class="cell" data-v-241d7393></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F1</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F2</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F3</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F4</div></div><div class="cell" data-v-241d7393></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F5</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F6</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F7</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F8</div></div><div class="cell" data-v-241d7393></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F9</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F10</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F11</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F12</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>SrcLk</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Pause</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>~</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>1</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>2</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>3</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>4</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>5</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>6</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>7</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>8</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>9</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>0</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>-</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>=</div></div><div class="cell backspace" data-v-241d7393><div class="key" data-v-241d7393>Backspace</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Ins</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Home</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>PgUp</div></div><div class="cell tab" data-v-241d7393><div class="key" data-v-241d7393>Tab</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Q</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>W</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>E</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>R</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>T</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Y</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>U</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>I</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>O</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>P</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>[ {</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>] }</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>\\</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Del</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>End</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>PgDn</div></div><div class="cell caps" data-v-241d7393><div class="key" data-v-241d7393>Caps</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>A</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>S</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>D</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>F</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>G</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>H</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>J</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>K</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>L</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>; :</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>&#39;</div></div><div class="cell enter" data-v-241d7393><div class="key" data-v-241d7393>Enter</div></div><div class="cell" data-v-241d7393></div><div class="cell" data-v-241d7393></div><div class="cell" data-v-241d7393></div><div class="cell shift-left" data-v-241d7393><div class="key" data-v-241d7393>L Shift</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Z</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>X</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>C</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>V</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>B</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>N</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>M</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>, &lt;</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>. &gt;</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>/ ?</div></div><div class="cell shift-right" data-v-241d7393><div class="key" data-v-241d7393>R Shift</div></div><div class="cell" data-v-241d7393></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>↑</div></div><div class="cell" data-v-241d7393></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>L Ctrl</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Win</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>L Alt</div></div><div class="cell space" data-v-241d7393><div class="key" data-v-241d7393>Space</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>R Alt</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Win</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>Fn</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>R Ctrl</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>←</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>↓</div></div><div class="cell" data-v-241d7393><div class="key" data-v-241d7393>→</div></div>',94),c=[o];function v(e,d,t,s,i,o){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",l,c,512)])}var u=t(2262),r=t(3907),f=t(9391);(0,f.Z)();var p={setup(){const e=(0,r.oR)(),d=(0,u.iH)(null),t=(0,u.qj)({currentKey:""}),s=()=>{i("A"),setTimeout((()=>{n("A")}),1e3)},i=t=>{d.value.querySelectorAll(".key").forEach((d=>{if(d.innerText==t){d.classList.add("active"),e.state.choose_key=t;let a=e.state.sound_info.mode;switch(a){case"指定":console.log(value);let d="";e.state.sound_info.assigned_sounds&&e.state.sound_info.assigned_sounds.forEach((t=>{t.key==e.state.choose_key&&(d=t)})),e.state.key_sound=""!=d?d.sound:"";break;case"单键随机":let a="";e.state.sound_info.single_key&&e.state.sound_info.single_key.forEach((d=>{d==e.state.choose_key&&(a=d)})),e.state.onekey_flag=""!=a;break;case"3":e.state.sound_info.sound3=t;break;default:break}}}))},n=e=>{d.value.querySelectorAll(".key").forEach((d=>{d.innerText==e&&(d.classList.remove("active"),console.log("松qqqq开:",e))}))};return(0,a.bv)((()=>{d.value.querySelectorAll(".key").forEach((e=>{""!=e.innerText&&(e.addEventListener("mousedown",(()=>{pywebview.api.playSound(e.innerText),i(e.innerText)})),e.addEventListener("mouseup",(()=>{n(e.innerText)})))}))})),window.downKEY=i,window.upKEY=n,{...(0,u.BK)(t),test:s,keybox:d}}},y=t(3744);const _=(0,y.Z)(p,[["render",v],["__scopeId","data-v-241d7393"]]);var m=_,k=t(9963),h=t(3577);const g=e=>((0,a.dD)("data-v-2256cf97"),e=e(),(0,a.Cn)(),e),w={class:"menu"},b={class:"tools"},x={style:{height:"100%"}},S={style:{margin:"0px 10px"}},C={key:1},L={style:{margin:"0px 10px"}},E=g((()=>(0,a._)("i",{style:{"font-size":"25px"},class:"iconfont icon-qingchu"},null,-1))),A=g((()=>(0,a._)("i",{style:{"font-size":"25px"},class:"iconfont icon-daoru_o"},null,-1))),z=g((()=>(0,a._)("i",{style:{"font-size":"25px"},class:"iconfont icon-shanchu"},null,-1))),T={style:{height:"100%"}},D=g((()=>(0,a._)("i",{style:{"font-size":"25px"},class:"iconfont icon-xinjian"},null,-1))),j=g((()=>(0,a._)("i",{style:{"font-size":"25px",transform:"rotate(180deg)","-webkit-transform":"rotate(180deg)"},class:"iconfont icon-daochu"},null,-1))),W=g((()=>(0,a._)("i",{style:{"font-size":"25px"},class:"iconfont icon-daochu"},null,-1)));function F(e,d,t,s,i,n){const l=(0,a.up)("el-option"),o=(0,a.up)("el-select"),c=(0,a.up)("el-checkbox"),v=(0,a.up)("el-button"),u=(0,a.up)("el-tooltip");return(0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("div",b,[(0,a._)("div",x,[(0,a.Wm)(o,{modelValue:s.store.state.switch_state.choose_sound,"onUpdate:modelValue":d[0]||(d[0]=e=>s.store.state.switch_state.choose_sound=e),class:"m-2",placeholder:"选择音效包",size:"large",onChange:s.update_switch_state_fn},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.store.state.sound_list,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),s.store.state.switch_state.choose_sound?((0,a.wg)(),(0,a.j4)(o,{key:0,modelValue:s.store.state.sound_info.mode,"onUpdate:modelValue":d[1]||(d[1]=e=>s.store.state.sound_info.mode=e),class:"m-2",placeholder:"选择模式",size:"large",style:{width:"120px","margin-left":"10px"},onChange:s.update_sound_info_fn},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(["随机","重复","指定","单键随机"],(e=>(0,a.Wm)(l,{key:e,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue","onChange"])):(0,a.kq)("",!0),(0,a.wy)((0,a.Wm)(o,{modelValue:s.store.state.sound_info.repeat_sound,"onUpdate:modelValue":d[2]||(d[2]=e=>s.store.state.sound_info.repeat_sound=e),class:"m-2",placeholder:"选择重复音效",size:"large",style:{width:"150px","margin-left":"10px"},onChange:s.update_sound_info_fn},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.store.state.sound_info.soundsList,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),[[k.F8,"重复"==s.store.state.sound_info.mode]]),(0,a.wy)((0,a._)("span",null,[(0,a._)("span",S,"KEY: "+(0,h.zw)(s.store.state.choose_key),1),(0,a.Wm)(o,{modelValue:s.store.state.key_sound,"onUpdate:modelValue":d[3]||(d[3]=e=>s.store.state.key_sound=e),class:"m-2",placeholder:"选择音效",size:"large",style:{width:"150px"},onChange:s.changeCurrentSound},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.store.state.sound_info.soundsList,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])],512),[[k.F8,"指定"==s.store.state.sound_info.mode]]),"单键随机"==s.store.state.sound_info.mode?((0,a.wg)(),(0,a.iD)("span",C,[(0,a._)("span",L,"KEY: "+(0,h.zw)(s.store.state.choose_key),1),(0,a.Wm)(c,{style:{color:"#fff"},modelValue:s.store.state.onekey_flag,"onUpdate:modelValue":d[4]||(d[4]=e=>s.store.state.onekey_flag=e),onChange:s.onekey_change,label:"随机开关",size:"large"},null,8,["modelValue","onChange"])])):(0,a.kq)("",!0),"指定"==s.store.state.sound_info.mode&&s.store.state.key_sound?((0,a.wg)(),(0,a.j4)(u,{key:2,class:"box-item",effect:"light",content:"清除键位绑定",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{plain:"",style:{"margin-left":"10px",padding:"0px 10px"},onClick:s.clearCurrentSound},{default:(0,a.w5)((()=>[E])),_:1},8,["onClick"])])),_:1})):(0,a.kq)("",!0),s.store.state.switch_state.choose_sound?((0,a.wg)(),(0,a.j4)(u,{key:3,class:"box-item",effect:"light",content:"导入音效文件",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{plain:"",style:{"margin-left":"10px",padding:"0px 10px"},onClick:s.addSoundFile},{default:(0,a.w5)((()=>[A])),_:1},8,["onClick"])])),_:1})):(0,a.kq)("",!0),s.store.state.switch_state.choose_sound?((0,a.wg)(),(0,a.j4)(u,{key:4,class:"box-item",effect:"light",content:"删除音效包",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{plain:"",style:{"margin-left":"10px",padding:"0px 10px"},onClick:s.delSoundInfo},{default:(0,a.w5)((()=>[z])),_:1},8,["onClick"])])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",T,[(0,a.Wm)(u,{class:"box-item",effect:"light",content:"新建音效包",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{plain:"",style:{"margin-left":"10px",padding:"0px 10px"},onClick:s.createsounds},{default:(0,a.w5)((()=>[D])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(u,{class:"box-item",effect:"light",content:"导入音效包",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{plain:"",style:{"margin-left":"10px",padding:"0px 10px"},onClick:s.importSound},{default:(0,a.w5)((()=>[j])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(u,{class:"box-item",effect:"light",content:"导出音效包",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{plain:"",style:{"margin-left":"10px",padding:"0px 10px"},onClick:s.exportSound},{default:(0,a.w5)((()=>[W])),_:1},8,["onClick"])])),_:1})])])])}t(7658);var I=t(9737),q=t(1348),V=t(3279),O={setup(){const e=(0,r.oR)(),d=()=>{e.dispatch("updateSoundInfo")},t=()=>{e.dispatch("getSoundInfo")},a=()=>{(0,V.Mo)(),t()},s=t=>{let a="";e.state.sound_info.assigned_sounds.forEach((d=>{d.key==e.state.choose_key&&(a=d)})),""!=a?a.sound=t:e.state.sound_info.assigned_sounds.push({key:e.state.choose_key,sound:t}),d()},i=t=>{e.state.sound_info.single_key&&(t?e.state.sound_info.single_key.push(e.state.choose_key):e.state.sound_info.single_key.splice(e.state.sound_info.single_key.indexOf(e.state.choose_key),1),d())},n=()=>{let t="";e.state.sound_info.assigned_sounds.forEach((d=>{d.key==e.state.choose_key&&(t=d)})),""!=t&&e.state.sound_info.assigned_sounds.splice(e.state.sound_info.assigned_sounds.indexOf(t),1),d(),e.state.key_sound=""},l=()=>{(0,V.M_)().then((d=>{e.dispatch("getSoundInfo")}))},o=()=>{I.T.prompt("输入音效包名","Tip",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[^`~!@#$%^&*()_+<>?:"{},.\/;'[\]]*$/,inputErrorMessage:"请输出合法的文件名"}).then((({value:d})=>{(0,q.z8)({type:"success",message:`创建音效包 ${d} 成功`}),(0,V.Dt)(d).then((t=>{e.dispatch("getSoundList"),e.state.switch_state.choose_sound=d,a()}))})).catch((()=>{(0,q.z8)({type:"info",message:"取消创建"})}))},c=()=>{I.T.confirm("此操作将永久删除该音效包, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,q.z8)({type:"success",message:"删除成功!"}),pywebview.api.delSoundInfo(e.state.sound_info.name).then((d=>{e.dispatch("getSoundList"),e.state.switch_state.choose_sound="",e.state.sound_info={},a()})),(0,V.tn)()})).catch((()=>{(0,q.z8)({type:"info",message:"已取消删除"})}))},v=()=>{e.state.switch_state.choose_sound?pywebview.api.exportSound(e.state.sound_info.name).then((e=>{e?(0,q.z8)({type:"success",message:"导出成功"}):(0,q.z8)({type:"error",message:"导出失败"})})).catch((e=>{(0,q.z8)({type:"warning",message:"取消导出"})})):(0,q.z8)({type:"error",message:"请先选择音效包"})},u=()=>{pywebview.api.importSound().then((d=>{d?((0,q.z8)({type:"success",message:"导入成功"}),e.dispatch("getSoundList")):(0,q.z8)({type:"error",message:"导入失败"})}))},f=()=>{e.state.switch_state.choose_sound?pywebview.api.upload_sound().then((e=>{e?(0,q.z8)({type:"success",message:"上传成功"}):(0,q.z8)({type:"error",message:"上传失败"})})):(0,q.z8)({type:"error",message:"请先选择音效包"})};return{store:e,update_switch_state_fn:a,update_sound_info_fn:d,changeCurrentSound:s,onekey_change:i,clearCurrentSound:n,addSoundFile:l,createsounds:o,delSoundInfo:c,exportSound:v,importSound:u,postcloud:f}}};const K=(0,y.Z)(O,[["render",F],["__scopeId","data-v-2256cf97"]]);var M=K;const B=e=>((0,a.dD)("data-v-4c63de75"),e=e(),(0,a.Cn)(),e),P={class:"sound_list"},Z=B((()=>(0,a._)("span",null,"删除",-1)));function H(e,d,t,s,i,n){const l=(0,a.up)("el-popconfirm");return(0,a.wg)(),(0,a.iD)("div",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.store.state.sound_info.soundsList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"item",key:e},[(0,a._)("span",null,(0,h.zw)(e),1),(0,a.Wm)(l,{title:"确定要删除?",onConfirm:d=>s.deleteSound(e),onCancel:s.cancelDelete},{reference:(0,a.w5)((()=>[Z])),_:2},1032,["onConfirm","onCancel"])])))),128))])}var Y={setup(){const e=(0,r.oR)(),d=d=>{pywebview.api.delSoundFile(d).then((d=>{e.dispatch("getSoundInfo"),(0,q.z8)({message:"删除成功.",type:"success"})}))},t=()=>{(0,q.z8)({message:"取消删除."})};return{store:e,deleteSound:d,cancelDelete:t}}};const N=(0,y.Z)(Y,[["render",H],["__scopeId","data-v-4c63de75"]]);var R=N,U={name:"HomeView",components:{KeyBoard:m,ToolsMenu:M,SoundsList:R},setup(){return(0,a.dl)((()=>{(0,V.cu)()})),{}}};const $=(0,y.Z)(U,[["render",i],["__scopeId","data-v-890aa414"]]);var G=$}},d={};function t(a){var s=d[a];if(void 0!==s)return s.exports;var i=d[a]={exports:{}};return e[a].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(d,a,s,i){if(!a){var n=1/0;for(v=0;v<e.length;v++){a=e[v][0],s=e[v][1],i=e[v][2];for(var l=!0,o=0;o<a.length;o++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](a[o])}))?a.splice(o--,1):(l=!1,i<n&&(n=i));if(l){e.splice(v--,1);var c=s();void 0!==c&&(d=c)}}return d}i=i||0;for(var v=e.length;v>0&&e[v-1][2]>i;v--)e[v]=e[v-1];e[v]=[a,s,i]}}(),function(){t.d=function(e,d){for(var a in d)t.o(d,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:d[a]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(d,a){return t.f[a](e,d),d}),[]))}}(),function(){t.u=function(e){return"js/"+({103:"sounds",350:"setup",443:"about",449:"mouse"}[e]||e)+"."+{93:"37ddde93",103:"977cd71e",350:"6d96ef87",443:"8ae0e5da",449:"ebd449a5"}[e]+".js"}}(),function(){t.miniCssF=function(e){return"css/"+{350:"setup",443:"about",449:"mouse"}[e]+"."+{350:"48a411c4",443:"6b775165",449:"866e19e4"}[e]+".css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,d){return Object.prototype.hasOwnProperty.call(e,d)}}(),function(){var e={},d="web:";t.l=function(a,s,i,n){if(e[a])e[a].push(s);else{var l,o;if(void 0!==i)for(var c=document.getElementsByTagName("script"),v=0;v<c.length;v++){var u=c[v];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==d+i){l=u;break}}l||(o=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,t.nc&&l.setAttribute("nonce",t.nc),l.setAttribute("data-webpack",d+i),l.src=a),e[a]=[s];var r=function(d,t){l.onerror=l.onload=null,clearTimeout(f);var s=e[a];if(delete e[a],l.parentNode&&l.parentNode.removeChild(l),s&&s.forEach((function(e){return e(t)})),d)return d(t)},f=setTimeout(r.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=r.bind(null,l.onerror),l.onload=r.bind(null,l.onload),o&&document.head.appendChild(l)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,d,t,a,s){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var n=function(t){if(i.onerror=i.onload=null,"load"===t.type)a();else{var n=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.href||d,o=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");o.code="CSS_CHUNK_LOAD_FAILED",o.type=n,o.request=l,i.parentNode.removeChild(i),s(o)}};return i.onerror=i.onload=n,i.href=d,t?t.parentNode.insertBefore(i,t.nextSibling):document.head.appendChild(i),i},d=function(e,d){for(var t=document.getElementsByTagName("link"),a=0;a<t.length;a++){var s=t[a],i=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===d))return s}var n=document.getElementsByTagName("style");for(a=0;a<n.length;a++){s=n[a],i=s.getAttribute("data-href");if(i===e||i===d)return s}},a=function(a){return new Promise((function(s,i){var n=t.miniCssF(a),l=t.p+n;if(d(n,l))return s();e(a,l,null,s,i)}))},s={143:0};t.f.miniCss=function(e,d){var t={350:1,443:1,449:1};s[e]?d.push(s[e]):0!==s[e]&&t[e]&&d.push(s[e]=a(e).then((function(){s[e]=0}),(function(d){throw delete s[e],d})))}}}(),function(){var e={143:0};t.f.j=function(d,a){var s=t.o(e,d)?e[d]:void 0;if(0!==s)if(s)a.push(s[2]);else{var i=new Promise((function(t,a){s=e[d]=[t,a]}));a.push(s[2]=i);var n=t.p+t.u(d),l=new Error,o=function(a){if(t.o(e,d)&&(s=e[d],0!==s&&(e[d]=void 0),s)){var i=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;l.message="Loading chunk "+d+" failed.\n("+i+": "+n+")",l.name="ChunkLoadError",l.type=i,l.request=n,s[1](l)}};t.l(n,o,"chunk-"+d,d)}},t.O.j=function(d){return 0===e[d]};var d=function(d,a){var s,i,n=a[0],l=a[1],o=a[2],c=0;if(n.some((function(d){return 0!==e[d]}))){for(s in l)t.o(l,s)&&(t.m[s]=l[s]);if(o)var v=o(t)}for(d&&d(a);c<n.length;c++)i=n[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(v)},a=self["webpackChunkweb"]=self["webpackChunkweb"]||[];a.forEach(d.bind(null,0)),a.push=d.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(7370)}));a=t.O(a)})();
//# sourceMappingURL=app.2fcd44b4.js.map